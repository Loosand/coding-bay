import{l as w,m as I,u as r,i as c,q as L,s as x,x as C,k as M,r as A,o as E,c as j,e as O,a as i,g as z,n as v,f as y,y as N,z as V,A as B,v as k,p as $,h as D}from "./index-6145a602.js";import{g as H,i as W}from "./node-2c2151ed.js";function K(e){return w()?(I(e),!0):!1}function b(e){return typeof e=="function"?e():r(e)}const P=typeof window<"u"&&typeof document<"u",T=Object.prototype.toString,X= e=>T.call(e)==="[object Object]",Y=()=>{};function q(e){var t;const o=b(e);return(t=o==null?void 0:o.$el)!=null?t:o}const _=P?window:void 0;function R(...e){let t,o,s,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,s,a]=e,t=_):[t,o,s,a]=e,!t)return Y;Array.isArray(o)||(o=[o]),Array.isArray(s)||(s=[s]);const m=[],l=()=>{m.forEach(n=>n()),m.length=0},h=(n, u, d, p)=>(n.addEventListener(u,d,p),()=>n.removeEventListener(u,d,p)),g=L(()=>[q(t),b(a)],([n,u])=>{if(l(),!n)return;const d=X(u)?{...u}:u;m.push(...o.flatMap(p=>s.map(S=>h(n,p,S,d))))},{immediate:!0,flush:"post"}),f=()=>{g(),l()};return K(f),f}function U({window:e=_}={}){if(!e)return{x:c(0),y:c(0)};const t=c(e.scrollX),o=c(e.scrollY);return R(e,"scroll",()=>{t.value=e.scrollX,o.value=e.scrollY},{capture:!1,passive:!0}),{x:t,y:o}}const re=x("nav",()=>{let e=c(1);const t=c([]);(async()=>{const a=await H();t.value=a.data})();const s=C(a=>{e=a});return{currentIndex:e,items:t,changeIndex:s}},{persist:{enabled:!0},strategies:[{key:"menuIndex",storage:localStorage,paths:["currentIndex"]}]}),F=x("menu",()=>{const e=c(!1);return{isMenuOpen:e,toggleMenu:()=>{e.value=!e.value}}}),G= e=>W({url:`/search/${e}`,method:"get",params:{keyword:e}}),J=x("search",()=>{const e=c(""),t=c([]);return{keyword:e,searchList:t,search:async s=>{const a=await G(s);t.value=a.data,e.value=s,await M.push("/search/"+s)}}});const Q=(e, t)=>{const o=e.__vccOpts||e;for(const[s,a]of t)o[s]=a;return o},Z= e=>($("data-v-cdea4770"),e=e(),D(),e),ee=Z(()=>i("span",{class:"font-light"},"Cod",-1)),te={class:"flex items-center gap-4 pb-1"},oe={class:"absolute right-32 hidden md:block"},se={__name:"LayoutHeader",setup(e){const t=F(),o=J(),{y:s}=U(),{keyword:a,search:m}=o,l=c(!0),h=()=>{localStorage.theme==="dark"||!("theme"in localStorage)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.theme="light",localStorage.theme="dark",localStorage.removeItem("theme"),l.value=!l.value},g=()=>{document.documentElement.classList.remove("dark"),l.value=!l.value};return(f, n)=>{const u=A("imgπ");return E(),j("header",{class:v([{"md:h-64 md:flex-col":r(s)<60},"relative flex h-20 items-center justify-around gap-4 bg-gray-800 font-bold text-white shadow-lg transition-all duration-300 dark:bg-gray-900 dark:text-white md:h-24 md:justify-center md:bg-gray-900 md:shadow-none dark:md:bg-gradient-to-r dark:md:from-gray-900 dark:md:to-stone-900"])},[O(u,{src:r(t).isMenuOpen?"https://loosand-picture.oss-cn-hangzhou.aliyuncs.com/img/close.svg":"https://loosand-picture.oss-cn-hangzhou.aliyuncs.com/img/menu.svg",onClick:n[0]||(n[0]= d=>r(t).toggleMenu()),class:"md:hidden",alt:"menu icon"},null,8,["src"]),i("h1",{class:v([{"justify-items-starts":r(s)>60,"md:text-6xl":r(s)<60},"hidden text-3xl dark:text-red-500 md:block"])},[ee,z("ing Bay ")],2),i("div",te,[i("div",{class:v([{"flex-col md:before:hidden md:after:hidden":r(s)>60},"flex gap-4 overflow-hidden text-5xl before:hidden before:content-['{'] after:hidden after:content-['}'] md:before:block md:after:block"])},[y(i("input",{"onUpdate:modelValue":n[1]||(n[1]= d=>V(a)?a.value=d:null),onKeyup:n[2]||(n[2]=B(d=>r(m)(r(a)),["enter"])),type:"search",autofocus:"",placeholder:"🔎 学习最前沿、实用的前端技术",autocomplete:"off",spellcheck:"false",role:"combobox",class:"mt-2 w-80 rounded-sm px-3 py-2 text-base font-semibold text-black shadow-md outline-white focus:outline-black dark:bg-gray-900 dark:text-white dark:outline dark:focus:outline-white"},null,544),[[N,r(a)]])],2)]),i("button",oe,[y(i("img",{src:"https://loosand-picture.oss-cn-hangzhou.aliyuncs.com/img/sun.svg",onClick:h,alt:"light mode"},null,512),[[k,l.value]]),y(i("img",{src:"https://loosand-picture.oss-cn-hangzhou.aliyuncs.com/img/moon.svg",onClick:g,alt:"dark mode"},null,512),[[k,!l.value]])])],2)}}},ce=Q(se,[["__scopeId","data-v-cdea4770"]]);export{ce as L,Q as _,F as a,J as b,re as u};
