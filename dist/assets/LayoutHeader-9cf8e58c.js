import{l as M,m as _,u as l,i as c,q as A,s as y,x as C,k as E,o as L,c as j,a as i,n as h,g as I,f as x,y as O,z as N,A as B,v as b}from"./index-54a69140.js";import{g as V,i as $}from"./node-2c2151ed.js";function D(e){return M()?(_(e),!0):!1}function k(e){return typeof e=="function"?e():l(e)}const W=typeof window<"u"&&typeof document<"u",z=Object.prototype.toString,K=e=>z.call(e)==="[object Object]",P=()=>{};function T(e){var t;const s=k(e);return(t=s==null?void 0:s.$el)!=null?t:s}const S=W?window:void 0;function X(...e){let t,s,o,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([s,o,n]=e,t=S):[t,s,o,n]=e,!t)return P;Array.isArray(s)||(s=[s]),Array.isArray(o)||(o=[o]);const d=[],u=()=>{d.forEach(a=>a()),d.length=0},p=(a,r,m,f)=>(a.addEventListener(r,m,f),()=>a.removeEventListener(r,m,f)),g=A(()=>[T(t),k(n)],([a,r])=>{if(u(),!a)return;const m=K(r)?{...r}:r;d.push(...s.flatMap(f=>o.map(w=>p(a,f,w,m))))},{immediate:!0,flush:"post"}),v=()=>{g(),u()};return D(v),v}function Y({window:e=S}={}){if(!e)return{x:c(0),y:c(0)};const t=c(e.scrollX),s=c(e.scrollY);return X(e,"scroll",()=>{t.value=e.scrollX,s.value=e.scrollY},{capture:!1,passive:!0}),{x:t,y:s}}const Z=y("nav",()=>{let e=c(1);const t=c([]);(async()=>{const n=await V();t.value=n.data})();const o=C(n=>{e=n});return{currentIndex:e,items:t,changeIndex:o}},{persist:{enabled:!0},strategies:[{key:"menuIndex",storage:localStorage,paths:["currentIndex"]}]}),q=y("menu",()=>{const e=c(!1);return{isMenuOpen:e,toggleMenu:()=>{e.value=!e.value}}}),H=e=>$({url:`/search/${e}`,method:"get",params:{keyword:e}}),R=y("search",()=>{const e=c(""),t=c([]);return{keyword:e,searchList:t,search:async o=>{const n=await H(o);t.value=n.data,e.value=o,await E.push("/search/"+o)}}}),U=i("span",{class:"font-light"},"Cod",-1),F={class:"flex items-center gap-4 pb-1"},G={class:"absolute right-32 mb-9 hidden text-4xl md:block"},ee={__name:"LayoutHeader",setup(e){const t=q(),s=R(),{y:o}=Y(),{keyword:n,search:d}=s,u=c(!0),p=()=>{localStorage.theme==="dark"||!("theme"in localStorage)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.theme="light",localStorage.theme="dark",localStorage.removeItem("theme"),u.value=!u.value},g=()=>{document.documentElement.classList.remove("dark"),u.value=!u.value};return(v,a)=>(L(),j("header",{class:h([{"md:h-64 md:flex-col":l(o)<60},"relative flex h-20 items-center justify-around gap-4 bg-gray-800 font-bold text-white shadow-lg transition-all duration-300 dark:bg-gray-900 dark:text-white md:h-24 md:justify-center md:bg-gray-900 md:shadow-none dark:md:bg-gradient-to-r dark:md:from-gray-900 dark:md:to-stone-900"])},[i("i",{class:h([l(t).isMenuOpen?"ri-close-line":"ri-menu-line","text-4xl md:hidden"]),onClick:a[0]||(a[0]=r=>l(t).toggleMenu())},null,2),i("h1",{class:h([{"justify-items-starts":l(o)>60,"md:text-6xl":l(o)<60},"hidden text-3xl dark:text-red-500 md:block"])},[U,I("ing Bay ")],2),i("div",F,[i("div",{class:h([{"flex-col before:hidden after:hidden":l(o)>60},"flex gap-4 overflow-hidden text-5xl before:content-['{'] after:content-['}']"])},[x(i("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>N(n)?n.value=r:null),onKeyup:a[2]||(a[2]=B(r=>l(d)(l(n)),["enter"])),type:"search",autofocus:"",placeholder:"🔎 学习最前沿、实用的前端技术",autocomplete:"off",spellcheck:"false",role:"combobox",class:"mt-2 w-80 rounded-sm px-3 py-2 text-base font-semibold text-black shadow-md outline-white focus:outline-black dark:bg-gray-900 dark:text-white dark:outline dark:focus:outline-white"},null,544),[[O,l(n)]])],2)]),i("button",G,[x(i("i",{onClick:p,class:"ri-sun-fill absolute"},null,512),[[b,u.value]]),x(i("i",{onClick:g,class:"ri-moon-fill absolute"},null,512),[[b,!u.value]])])],2))}};export{ee as _,q as a,R as b,Z as u};
